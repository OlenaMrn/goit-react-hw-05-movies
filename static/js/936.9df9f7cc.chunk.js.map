{"version":3,"file":"static/js/936.9df9f7cc.chunk.js","mappings":"ySAAMA,EAAW,gCACXC,EAAU,mCAAhB,SAEeC,EAAY,GAAZA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA2BC,GAA3B,uFACyBC,MAAMD,GAD/B,WACQE,EADR,QAEgBC,GAFhB,sBAGU,IAAIC,MAAM,wCAHpB,gCAKSF,EAASG,QALlB,kEASO,SAASC,IACZ,OAAOP,EAAY,GAAD,OAAIF,EAAJ,uCAA2CC,GAEhE,CAEM,SAASS,EAAaC,GAC3B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,oBAAyCV,GAC5D,CACM,SAASW,EAAgBD,GAC9B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,4BAAiDV,GACpE,CACM,SAASY,EAAaF,GAC3B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,4BAAiDV,GACpE,CACM,SAASa,EAAkBC,GAChC,OAAOb,EAAY,GAAD,OACbF,EADa,+BACkBe,EADlB,oBACmCd,GAEtD,C,gHC7BD,EAA4B,wBAA5B,EAAkE,0BAAlE,EAA2G,2BAA3G,EAAiJ,uBAAjJ,EAAoL,wB,SC0DpL,EArDa,WACX,OAA0Be,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,YACRV,EAAAA,EAAAA,MACGW,MAAK,SAAAC,GACJH,EAASG,EAAKC,QACf,IACAC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EACf,GACJ,GAAE,IAUH,OACE,iBAAKE,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAAgC,oBAChC,eAAID,UAAWC,EAAf,SACGV,EAAMW,KAAI,SAAAC,GACT,IAAMC,EAbO,SAACC,GACpB,GAAIA,EAAa,CACf,IAAMC,EAAOD,EAAYE,MAAM,KAAK,GACpC,MAAM,KAAN,OAAYD,EAAZ,IACD,CACD,MAAO,EACR,CAOyBE,CAAaL,EAAGM,cAAgBN,EAAGO,gBACrD,OACE,eAAIV,UAAWC,EAAf,UACE,UAAC,KAAD,CAAMD,UAAWC,EAAcU,GAAE,kBAAaR,EAAGS,IAAjD,UACGT,EAAGU,MAAQV,EAAGU,MAAQV,EAAGW,KACzBV,MAHiCD,EAAGS,GAO5C,QAIR,C,uBC7CD,SAASG,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAO1B,GAEP,YADAoB,EAAOpB,EAET,CACIyB,EAAKE,KACPR,EAAQO,GAERE,QAAQT,QAAQO,GAAO9B,KAAKyB,EAAOC,EAEvC,CACe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACTC,EAAOC,UACT,OAAO,IAAIN,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GACzB,SAASZ,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CACA,SAASJ,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CACAf,OAAMgB,EACR,GACF,CACF,C","sources":["API/movieApi.js","webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","pages/Home/Home.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'cd645533d11f1e46be7243753c49caff';\n\nasync function fetchMovies(url) {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Error occurred while fetching movies');\n  }\n  return response.json();\n}\n\n\nexport function getTrendingMovies() {\n    return fetchMovies(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n    \n}\n\nexport function getMovieById(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n}\nexport function getMovieReviews(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n}\nexport function getMovieCast(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n}\nexport function getMoviesBySearch(query) {\n  return fetchMovies(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Home_container__w+u63\",\"sectionName\":\"Home_sectionName__pWZdm\",\"filmListItem\":\"Home_filmListItem__NWZ1Y\",\"filmLink\":\"Home_filmLink__adak6\",\"filmsList\":\"Home_filmsList__++-jU\"};","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { getTrendingMovies } from 'API/movieApi';\nimport css from './Home.module.css';\n\nconst Home = () => {\n  const [films, setFilms] = useState([]);\n\n  useEffect(() => {\n    getTrendingMovies()\n      .then(data => {\n        setFilms(data.results);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  const getMovieYear = (releaseDate) => {\n    if (releaseDate) {\n      const year = releaseDate.split('-')[0];\n      return ` (${year})`;\n    }\n    return '';\n  };\n\n  return (\n    <div className={css.container}>\n      <h2 className={css.sectionName}>trending today</h2>\n      <ul className={css.filmsList}>\n        {films.map(el => {\n          const movieYear = getMovieYear(el.release_date || el.first_air_date);\n          return (\n            <li className={css.filmListItem} key={el.id}>\n              <Link className={css.filmLink} to={`/movies/${el.id}`}>\n                {el.title ? el.title : el.name}\n                {movieYear}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\n\nHome.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      release_date: PropTypes.string.isRequired,\n      first_air_date: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Home;\n\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["BASE_URL","API_KEY","fetchMovies","url","fetch","response","ok","Error","json","getTrendingMovies","getMovieById","movieId","getMovieReviews","getMovieCast","getMoviesBySearch","query","useState","films","setFilms","useEffect","then","data","results","catch","error","console","className","css","map","el","movieYear","releaseDate","year","split","getMovieYear","release_date","first_air_date","to","id","title","name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}