{"version":3,"file":"static/js/205.886fb90e.chunk.js","mappings":"ySAAMA,EAAW,gCACXC,EAAU,mCAAhB,SAEeC,EAAY,GAAZA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA2BC,GAA3B,uFACyBC,MAAMD,GAD/B,WACQE,EADR,QAEgBC,GAFhB,sBAGU,IAAIC,MAAM,wCAHpB,gCAKSF,EAASG,QALlB,kEASO,SAASC,IACZ,OAAOP,EAAY,GAAD,OAAIF,EAAJ,uCAA2CC,GAEhE,CAEM,SAASS,EAAaC,GAC3B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,oBAAyCV,GAC5D,CACM,SAASW,EAAgBD,GAC9B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,4BAAiDV,GACpE,CACM,SAASY,EAAaF,GAC3B,OAAOT,EAAY,GAAD,OAAIF,EAAJ,kBAAsBW,EAAtB,4BAAiDV,GACpE,CACM,SAASa,EAAkBC,GAChC,OAAOb,EAAY,GAAD,OACbF,EADa,+BACkBe,EADlB,oBACmCd,GAEtD,C,uJC7BD,EAAqH,uBAArH,EAAyJ,2BAAzJ,EAA4L,sBAA5L,EAAiO,6BAAjO,EAA6Q,6BAA7Q,EAAqT,yBAArT,EAAyV,yBAAzV,EAA8X,0B,kBCsF9X,EAhFe,WACb,OAA4Be,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAsCP,EAAAA,EAAAA,UAAS,IAA/C,eAAOQ,EAAP,KAAoBC,EAApB,KAEMC,EAAY,mCAAG,WAAMX,GAAN,iGAEMD,EAAAA,EAAAA,IAAkBC,GAFxB,OAEXV,EAFW,OAGjBa,EAAUb,EAASsB,SAHF,gDAKjBC,QAAQC,MAAR,MALiB,yDAAH,uDASlBC,EAAAA,EAAAA,YAAU,WACR,IAAMf,EAAQK,EAAaW,IAAI,SAE3BhB,GACFW,EAAaX,EAEhB,GAAE,CAACK,IAWJ,OACE,4BACE,cAAGY,UAAWC,EAAd,SAA0B,mBAC1B,kBAAMC,SAZW,SAACC,GACnBA,EAAMC,iBACPf,EAAgB,CAAEN,MAAOS,GAC1B,EASG,WACE,kBACEa,KAAK,OACLL,UAAWC,EACXK,MAAOd,EACPe,SAZkB,SAAAJ,GACxBV,EAAeU,EAAMK,OAAOF,MAC7B,KAYK,mBAAQD,KAAK,SAASL,UAAWC,EAAjC,UACE,SAAC,MAAD,CAAUQ,KAAM,GAAIT,UAAWC,SAGlChB,GAA4B,IAAlBA,EAAOyB,SAChB,cAAGV,UAAWC,EAAd,SAA6B,0CAG/B,eAAID,UAAWC,EAAf,SACGhB,GACCA,EAAO0B,KAAI,SAAAC,GAAK,OACd,eAAIZ,UAAWC,EAAf,UACE,SAAC,KAAD,CACEY,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAMG,IAC3BC,OAAO,UAAD,OAAY5B,EAAaW,IAAI,WAErCkB,MAAO,CAAEC,KAAM5B,GACfU,UAAWC,EANb,SAQGW,EAAMO,SAT2BP,EAAMG,GAD9B,QAiBzB,C","sources":["API/movieApi.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/movies.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'cd645533d11f1e46be7243753c49caff';\n\nasync function fetchMovies(url) {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Error occurred while fetching movies');\n  }\n  return response.json();\n}\n\n\nexport function getTrendingMovies() {\n    return fetchMovies(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n    \n}\n\nexport function getMovieById(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n}\nexport function getMovieReviews(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n}\nexport function getMovieCast(movieId) {\n  return fetchMovies(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n}\nexport function getMoviesBySearch(query) {\n  return fetchMovies(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"back\":\"Movies_back__IHWPl\",\"backLink\":\"Movies_backLink__km+RV\",\"icon\":\"Movies_icon__5yLpa\",\"search\":\"Movies_search__VjLZn\",\"searchIcon\":\"Movies_searchIcon__NEMwN\",\"input\":\"Movies_input__KrUqs\",\"searchButton\":\"Movies_searchButton__ieSHM\",\"filmListItem\":\"Movies_filmListItem__2StDL\",\"filmLink\":\"Movies_filmLink__5Fw5o\",\"filmList\":\"Movies_filmList__kdMGP\",\"noResults\":\"Movies_noResults__zUCR-\"};","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { getMoviesBySearch } from 'API/movieApi';\nimport css from './Movies.module.css';\nimport { ImSearch } from 'react-icons/im';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearch = async query => {\n    try {\n      const response = await getMoviesBySearch(query);\n      setMovies(response.results);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n\n    if (query) {\n      handleSearch(query);\n    }\n  }, [searchParams]);\n\n  const handleSubmit = (event) => {\n     event.preventDefault();\n    setSearchParams({ query: searchQuery });\n  };\n\n  const handleInputChange = event => {\n    setSearchQuery(event.target.value);\n  };\n\n  return (\n    <div>\n      <p className={css.search}>Let's search!</p>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className={css.input}\n          value={searchQuery}\n          onChange={handleInputChange}\n        />\n        <button type=\"submit\" className={css.searchButton}>\n          <ImSearch size={20} className={css.searchIcon} />\n        </button>\n      </form>\n      {movies && movies.length === 0 && (\n        <p className={css.noResults}>No search results. Please, try again</p>\n      )}\n\n      <ul className={css.filmList}>\n        {movies &&\n          movies.map(movie => (\n            <li className={css.filmListItem} key={movie.id}>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}`,\n                  search: `?query=${searchParams.get('query')}`,\n                }}\n                state={{ from: location }}\n                className={css.filmLink}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Movies;\n"],"names":["BASE_URL","API_KEY","fetchMovies","url","fetch","response","ok","Error","json","getTrendingMovies","getMovieById","movieId","getMovieReviews","getMovieCast","getMoviesBySearch","query","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","searchQuery","setSearchQuery","handleSearch","results","console","error","useEffect","get","className","css","onSubmit","event","preventDefault","type","value","onChange","target","size","length","map","movie","to","pathname","id","search","state","from","title"],"sourceRoot":""}