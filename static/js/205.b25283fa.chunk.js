"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[205],{3757:function(e,t,n){n.d(t,{Df:function(){return f},M1:function(){return h},Pg:function(){return l},tx:function(){return _},zi:function(){return p}});var r=n(5861),c=n(4687),a=n.n(c),i="https://api.themoviedb.org/3/",s="cd645533d11f1e46be7243753c49caff";function o(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Error occurred while fetching movies");case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return o("".concat(i,"/trending/movie/day?api_key=").concat(s))}function l(e){return o("".concat(i,"/movie/").concat(e,"?api_key=").concat(s))}function _(e){return o("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(s))}function h(e){return o("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(s))}function p(e){return o("".concat(i,"/search/movie?query=").concat(e,"&api_key=").concat(s))}},8205:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(5861),c=n(9439),a=n(4687),i=n.n(a),s=n(2791),o=n(1087),u=n(7689),f=n(3757),l={back:"Movies_back__IHWPl",backLink:"Movies_backLink__km+RV",icon:"Movies_icon__5yLpa",search:"Movies_search__VjLZn",input:"Movies_input__KrUqs",searchIcon:"Movies_searchIcon__NEMwN",searchButton:"Movies_searchButton__ieSHM",filmListItem:"Movies_filmListItem__2StDL",filmLink:"Movies_filmLink__5Fw5o",filmsList:"Movies_filmsList__J132R",noResults:"Movies_noResults__zUCR-"},_=n(828),h=n(184),p=function(){var e=(0,s.useState)(null),t=(0,c.Z)(e,2),n=t[0],a=t[1],p=(0,o.lr)(),m=(0,c.Z)(p,2),v=m[0],k=m[1],d=(0,u.TH)(),y=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.zi)(t);case 3:n=e.sent,a(n.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=v.get("query");e&&y(e)}),[v]);return(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:l.search,children:"Let's search!"}),(0,h.jsx)("input",{type:"text",className:l.input,value:v.get("query")||"",onChange:function(e){if(e.preventDefault(),""===e.target.value)return k({});k({query:e.target.value})}}),(0,h.jsx)(_.Yfv,{size:20,className:l.searchIcon}),n&&0===n.length&&(0,h.jsx)("p",{className:l.noResults,children:"No search results. Please, try again"}),(0,h.jsx)("ul",{className:l.filmList,children:n&&n.map((function(e){return(0,h.jsx)("li",{className:l.filmListItem,children:(0,h.jsx)(o.rU,{to:{pathname:"/movies/".concat(e.id),search:"?query=".concat(v.get("query"))},state:{from:d},className:l.filmLink,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=205.b25283fa.chunk.js.map